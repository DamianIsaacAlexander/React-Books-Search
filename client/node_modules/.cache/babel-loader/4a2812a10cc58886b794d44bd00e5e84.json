{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\Damian\\\\Documents\\\\WebDev Practice\\\\React_Books_Search\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nvar previousState = [];\n\nvar sortByDate = function sortByDate(state) {\n  var arrToSort = state.books.forEach(function (book) {\n    return book.volumeInfo ? book.volumeInfo : book;\n  });\n  console.log(arrToSort); //   const sorted = books.sort((a, b) => {\n  //       if(a.volumeInfo.publishedDate > b.volumeInfo.publishedDate){\n  //        return -1 \n  //     } else {\n  //return 1\n  ////      }\n  //   }); \n  //console.log(sorted);//\n};\n\nvar sortByTitle = function sortByTitle(state) {\n  console.log(\"title\");\n  var books = state.books.volumeInfo ? state.books.volumeInfo : state.books;\n  return books.sort(function (a, b) {\n    if (a.title > b.title) {\n      return 1;\n    } else {\n      return -1;\n    }\n  });\n};\n\nvar clearOne = function clearOne(state, id) {\n  var updatedState = state.books.filter(function (book) {\n    return book._id !== id;\n  });\n  previousState = updatedState;\n  return updatedState;\n};\n\nfunction sortByInput(term) {\n  if (term) {\n    return previousState.filter(function (book) {\n      var title = book.title.toLowerCase();\n      return title.includes(term.toLowerCase());\n    });\n  } else {\n    return previousState;\n  }\n}\n\nvar bookReducer = function bookReducer(state, action) {\n  switch (action.type) {\n    case \"setBooks\":\n      previousState = action.payload;\n      return {\n        books: [].concat(_toConsumableArray(state.books), _toConsumableArray(action.payload))\n      };\n\n    case \"clear\":\n      return {\n        books: []\n      };\n\n    case \"clearOne\":\n      return {\n        books: clearOne(state, action.id)\n      };\n\n    case \"sortByInput\":\n      return {\n        books: sortByInput(action.input)\n      };\n\n    case \"sortByDate\":\n      return {\n        books: sortByDate(state)\n      };\n\n    case \"sortByTitle\":\n      return {\n        books: sortByTitle(state)\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default bookReducer;","map":{"version":3,"sources":["C:/Users/Damian/Documents/WebDev Practice/React_Books_Search/client/src/hooks/bookReducer.js"],"names":["previousState","sortByDate","state","arrToSort","books","forEach","book","volumeInfo","console","log","sortByTitle","sort","a","b","title","clearOne","id","updatedState","filter","_id","sortByInput","term","toLowerCase","includes","bookReducer","action","type","payload","input"],"mappings":";AAAA,IAAIA,aAAa,GAAG,EAApB;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAW;AAC1B,MAAMC,SAAS,GAAGD,KAAK,CAACE,KAAN,CAAYC,OAAZ,CAAoB,UAAAC,IAAI,EAAI;AAAC,WAAOA,IAAI,CAACC,UAAL,GAAkBD,IAAI,CAACC,UAAvB,GAAoCD,IAA3C;AAAgD,GAA7E,CAAlB;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYN,SAAZ,EAF0B,CAG7B;AACA;AACG;AACD;AACS;AACV;AACD;AACG;AACH,CAXD;;AAaA,IAAMO,WAAW,GAAG,SAAdA,WAAc,CAACR,KAAD,EAAW;AAC3BM,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,MAAML,KAAK,GAAGF,KAAK,CAACE,KAAN,CAAYG,UAAZ,GAAyBL,KAAK,CAACE,KAAN,CAAYG,UAArC,GAAkDL,KAAK,CAACE,KAAtE;AACA,SAAOA,KAAK,CAACO,IAAN,CAAW,UAACC,CAAD,EAAIC,CAAJ,EAAU;AACxB,QAAGD,CAAC,CAACE,KAAF,GAAUD,CAAC,CAACC,KAAf,EAAqB;AACjB,aAAO,CAAP;AACH,KAFD,MAEO;AACH,aAAO,CAAC,CAAR;AACH;AACJ,GANM,CAAP;AAOH,CAVD;;AAYA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACb,KAAD,EAAQc,EAAR,EAAe;AAC5B,MAAMC,YAAY,GAAGf,KAAK,CAACE,KAAN,CAAYc,MAAZ,CAAmB,UAACZ,IAAD,EAAU;AAC9C,WAAOA,IAAI,CAACa,GAAL,KAAaH,EAApB;AACH,GAFoB,CAArB;AAGAhB,EAAAA,aAAa,GAAGiB,YAAhB;AACA,SAAOA,YAAP;AACH,CAND;;AASA,SAASG,WAAT,CAAqBC,IAArB,EAA2B;AACvB,MAAGA,IAAH,EAAQ;AACJ,WAAOrB,aAAa,CAACkB,MAAd,CAAqB,UAAAZ,IAAI,EAAI;AAChC,UAAMQ,KAAK,GAAGR,IAAI,CAACQ,KAAL,CAAWQ,WAAX,EAAd;AACA,aAAOR,KAAK,CAACS,QAAN,CAAeF,IAAI,CAACC,WAAL,EAAf,CAAP;AACH,KAHM,CAAP;AAIH,GALD,MAKO;AACH,WAAOtB,aAAP;AACH;AACJ;;AAED,IAAMwB,WAAW,GAAG,SAAdA,WAAc,CAACtB,KAAD,EAAQuB,MAAR,EAAmB;AACnC,UAAOA,MAAM,CAACC,IAAd;AACI,SAAK,UAAL;AAAiB1B,MAAAA,aAAa,GAAGyB,MAAM,CAACE,OAAvB;AAAgC,aAAO;AAACvB,QAAAA,KAAK,+BAAMF,KAAK,CAACE,KAAZ,sBAAqBqB,MAAM,CAACE,OAA5B;AAAN,OAAP;;AACjD,SAAK,OAAL;AAAc,aAAO;AAACvB,QAAAA,KAAK,EAAE;AAAR,OAAP;;AACd,SAAK,UAAL;AAAiB,aAAO;AAACA,QAAAA,KAAK,EAAEW,QAAQ,CAACb,KAAD,EAAQuB,MAAM,CAACT,EAAf;AAAhB,OAAP;;AACjB,SAAK,aAAL;AAAoB,aAAO;AAACZ,QAAAA,KAAK,EAAEgB,WAAW,CAACK,MAAM,CAACG,KAAR;AAAnB,OAAP;;AACpB,SAAK,YAAL;AAAmB,aAAO;AAACxB,QAAAA,KAAK,EAAEH,UAAU,CAACC,KAAD;AAAlB,OAAP;;AACnB,SAAK,aAAL;AAAoB,aAAO;AAACE,QAAAA,KAAK,EAAEM,WAAW,CAACR,KAAD;AAAnB,OAAP;;AACpB;AAAS,aAAOA,KAAP;AAPb;AASH,CAVD;;AAYA,eAAesB,WAAf","sourcesContent":["let previousState = [];\r\n\r\nconst sortByDate = (state) => {\r\n    const arrToSort = state.books.forEach(book => {return book.volumeInfo ? book.volumeInfo : book});\r\n    console.log(arrToSort);\r\n //   const sorted = books.sort((a, b) => {\r\n //       if(a.volumeInfo.publishedDate > b.volumeInfo.publishedDate){\r\n    //        return -1 \r\n   //     } else {\r\n            //return 1\r\n  ////      }\r\n //   }); \r\n    //console.log(sorted);//\r\n}\r\n\r\nconst sortByTitle = (state) => {\r\n    console.log(\"title\");\r\n    const books = state.books.volumeInfo ? state.books.volumeInfo : state.books;\r\n    return books.sort((a, b) => {\r\n        if(a.title > b.title){\r\n            return 1 \r\n        } else {\r\n            return -1\r\n        }\r\n    }); \r\n}\r\n\r\nconst clearOne = (state, id) => {\r\n    const updatedState = state.books.filter((book) => {\r\n        return book._id !== id;\r\n    });\r\n    previousState = updatedState;\r\n    return updatedState;\r\n}\r\n\r\n\r\nfunction sortByInput(term) {\r\n    if(term){\r\n        return previousState.filter(book => {\r\n            const title = book.title.toLowerCase();\r\n            return title.includes(term.toLowerCase());\r\n        });\r\n    } else {\r\n        return previousState\r\n    }\r\n}\r\n\r\nconst bookReducer = (state, action) => {\r\n    switch(action.type){\r\n        case \"setBooks\": previousState = action.payload; return {books: [...state.books,...action.payload]};\r\n        case \"clear\": return {books: []};\r\n        case \"clearOne\": return {books: clearOne(state, action.id)};\r\n        case \"sortByInput\": return {books: sortByInput(action.input)}\r\n        case \"sortByDate\": return {books: sortByDate(state)};\r\n        case \"sortByTitle\": return {books: sortByTitle(state)};\r\n        default: return state;\r\n    }\r\n};\r\n\r\nexport default bookReducer;"]},"metadata":{},"sourceType":"module"}